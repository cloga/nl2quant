# DCA å®šæŠ•å›žæµ‹å¹³å° - å¿«é€Ÿå¼€å§‹æŒ‡å—

## 5 åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### Step 1: å‡†å¤‡ Tushare Token (1åˆ†é’Ÿ)

1. è®¿é—® [Tushare å®˜ç½‘](https://www.tushare.pro/)
2. æ³¨å†Œå¹¶ç™»å½•
3. åœ¨"ä¸ªäººä¸­å¿ƒ"æ‰¾åˆ° API Token
4. å¤åˆ¶ Token

### Step 2: é…ç½®çŽ¯å¢ƒ (2åˆ†é’Ÿ)

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
TUSHARE_TOKEN=your_token_here
```

å°† `your_token_here` æ›¿æ¢ä¸ºå®žé™…çš„ Tokenã€‚

### Step 3: å¯åŠ¨åº”ç”¨ (1åˆ†é’Ÿ)

#### Windows (PowerShell)

```powershell
.\run_dca_app.ps1
```

#### Mac / Linux (Bash)

```bash
streamlit run dca_web_app.py
```

### Step 4: ä½¿ç”¨åº”ç”¨ (1åˆ†é’Ÿ)

æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›å…¥ `http://localhost:8501`

## å…¸åž‹ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: æˆ‘æƒ³æµ‹è¯•"å…¨å¤©å€™"ç»„åˆçš„å®šæŠ•æ•ˆæžœ

1. å·¦ä¾§è¾¹æ é€‰æ‹© **"å…¨å¤©å€™ç»„åˆ (All-Weather)"**
2. è®¾ç½®æ¯æœˆæŠ•èµ„é‡‘é¢ï¼š**10,000 å…ƒ**
3. æŠ•èµ„é¢‘çŽ‡ï¼š**æœˆåº¦**
4. æ—¶é—´èŒƒå›´ï¼š**2020-01-01 è‡³ä»Š**
5. ç‚¹å‡» **"å¼€å§‹å›žæµ‹"**

**é¢„æœŸç»“æžœ**: å¯ä»¥çœ‹åˆ° 3-5 å¹´æœŸé—´çš„ç´¯ç§¯æ”¶ç›Šã€Sharpe æ¯”çŽ‡ç­‰å…³é”®æŒ‡æ ‡ã€‚

### åœºæ™¯ 2: æˆ‘æƒ³è‡ªå·±è®¾è®¡ä¸€ä¸ªç»„åˆ

1. å·¦ä¾§è¾¹æ é€‰æ‹© **"è‡ªå®šä¹‰"**
2. åœ¨"è¾“å…¥ ETF ä»£ç "æ¡†è¾“å…¥ï¼š**511260,510300,159920**
3. è°ƒæ•´æ¯ä¸ª ETF çš„æƒé‡ï¼ˆè‡ªåŠ¨å½’ä¸€åŒ–ï¼‰
4. è®¾ç½®æŠ•èµ„å‚æ•°
5. ç‚¹å‡» **"å¼€å§‹å›žæµ‹"**

### åœºæ™¯ 3: æˆ‘æƒ³å¯¹æ¯”ä¸åŒçš„æŠ•èµ„é¢‘çŽ‡

1. è®¾å®šåŒæ ·çš„ç»„åˆå’ŒæŠ•èµ„é‡‘é¢
2. è¿è¡Œ **æœˆåº¦** æŠ•èµ„å›žæµ‹ â†’ è®°å½• CAGR
3. è¿è¡Œ **å­£åº¦** æŠ•èµ„å›žæµ‹ â†’ å¯¹æ¯”ç»“æžœ
4. è¿è¡Œ **å¹´åº¦** æŠ•èµ„å›žæµ‹ â†’ è§‚å¯Ÿå·®å¼‚

é€šå¸¸å­£åº¦/å¹´åº¦æŠ•èµ„ä¼šé™ä½Žäº¤æ˜“æˆæœ¬ï¼Œä½†åœ¨å¸‚åœºæ³¢åŠ¨æ—¶å¯èƒ½é”™è¿‡æŠ•èµ„æœºä¼šã€‚

## æ ¸å¿ƒæŒ‡æ ‡é€Ÿè§ˆ

| æŒ‡æ ‡ | å«ä¹‰ | è¯„åˆ¤æ ‡å‡† |
|------|------|---------|
| **CAGR** | å¹´åŒ–æ”¶ç›ŠçŽ‡ | > 6% ä¸ºè‰¯å¥½ï¼Œ> 10% ä¸ºä¼˜ç§€ |
| **Sharpe** | é£Žé™©è°ƒæ•´æ”¶ç›Š | > 0.8 ä¸ºè‰¯å¥½ï¼Œ> 1.5 ä¸ºä¼˜ç§€ |
| **Max Drawdown** | æœ€å¤§è·Œå¹… | < 10% ä¸ºç¨³å¥ï¼Œ< 20% ä¸ºå¯æŽ¥å— |
| **Volatility** | å¹´åŒ–æ³¢åŠ¨çŽ‡ | < 10% ä¸ºä½Žæ³¢åŠ¨ï¼Œ10-20% ä¸ºä¸­ç­‰ |

## å¸¸è§çš„ ETF ä»£ç 

### å¿«é€Ÿå‚è€ƒè¡¨

```
å€ºåˆ¸:
  511260 - åå¹´å›½å€º ETF (æœ€ç¨³å®š)
  511380 - äº”å¹´å›½å€º ETF (æ³¢åŠ¨ç•¥å¤§)

ä¸­å›½è‚¡ç¥¨:
  510300 - æ²ªæ·±300 (è“ç­¹)
  510500 - ä¸­è¯500 (ä¸­å°ç›˜)
  515080 - ä¸­è¯çº¢åˆ© (é«˜åˆ†çº¢)

é¦™æ¸¯è‚¡ç¥¨:
  159920 - æ’ç”Ÿ ETF

ç¾Žå›½è‚¡ç¥¨:
  513100 - çº³æ–¯è¾¾å…‹100 (ç§‘æŠ€é¾™å¤´)
  513400 - æ—¥ç»225 (æ—¥æœ¬ä¸»æ¿)

å•†å“:
  518880 - é»„é‡‘ (é¿é™©)
  501018 - åŽŸæ²¹ (èƒ½æº)
  159980 - æœ‰è‰² (å·¥ä¸šé‡‘å±ž)
  159985 - è±†ç²• (å†œäº§å“)
```

## æ•°æ®å¯¼å‡ºä¸Žè¿›é˜¶åˆ†æž

å›žæµ‹å®ŒæˆåŽï¼Œå¯ä»¥å¯¼å‡ºä¸‰ç±»æ•°æ®ï¼š

### 1. å‡€å€¼æ›²çº¿ (equity_curve)
- æ ¼å¼: CSV
- å†…å®¹: æ—¥æœŸ + ç»„åˆå‡€å€¼
- ç”¨é€”: åœ¨ Excel/Python ä¸­ç»˜åˆ¶è‡ªå®šä¹‰å›¾è¡¨

### 2. æœŸæœ«æŒä»“ (positions)
- æ ¼å¼: CSV
- å†…å®¹: ä»£ç ã€ä»½æ•°ã€æˆæœ¬ä»·ã€æµ®ç›ˆç­‰
- ç”¨é€”: äº†è§£æœ€ç»ˆæŒä»“ç»“æž„

### 3. äº¤æ˜“è®°å½• (transactions)
- æ ¼å¼: CSV  
- å†…å®¹: å®Œæ•´çš„äº¤æ˜“åŽ†å²
- ç”¨é€”: å®¡è®¡æŠ•èµ„è¿‡ç¨‹ï¼Œåˆ†æžäº¤æ˜“åºåˆ—

### åœ¨ Python ä¸­è¿›è¡Œè¿›é˜¶åˆ†æž

```python
import pandas as pd
import numpy as np

# è¯»å–å¯¼å‡ºçš„æ•°æ®
equity = pd.read_csv('dca_equity_20200101_20251209.csv')
equity['date'] = pd.to_datetime(equity['date'])
equity.set_index('date', inplace=True)

# è®¡ç®—æœˆåº¦æ”¶ç›Š
monthly_returns = equity['value'].resample('ME').last().pct_change()

# è®¡ç®—æ»šåŠ¨æ”¶ç›Š
rolling_returns = equity['value'].rolling(window=252).apply(
    lambda x: (x.iloc[-1] / x.iloc[0]) ** (252/len(x)) - 1
)

# ç»˜åˆ¶å›¾è¡¨
import matplotlib.pyplot as plt
fig, axes = plt.subplots(2, 1, figsize=(12, 8))

axes[0].plot(equity.index, equity['value'])
axes[0].set_title('å‡€å€¼æ›²çº¿')
axes[1].plot(monthly_returns.index, monthly_returns.values)
axes[1].set_title('æœˆåº¦æ”¶ç›ŠçŽ‡')

plt.tight_layout()
plt.savefig('dca_analysis.png', dpi=150)
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæœ‰äº› ETF æ˜¾ç¤ºæ— æ•°æ®ï¼Ÿ
A: å¯èƒ½åŽŸå› ï¼š
- ETF ä»£ç ä¸å­˜åœ¨æˆ–å·²ä¸‹å¸‚
- æ—¶é—´èŒƒå›´å†…æ— äº¤æ˜“æ•°æ®
- Tushare ä¸­æ²¡æœ‰è¯¥ ETF çš„åŽ†å²æ•°æ®

### Q: å¦‚ä½•ç†è§£ Sharpe æ¯”çŽ‡ 0.86ï¼Ÿ
A: 
- è¡¨ç¤ºæ¯æ‰¿æ‹… 1 å•ä½é£Žé™©ï¼Œæ”¶ç›Š 0.86 å•ä½
- å¯¹äºŽå®šæŠ•ç»„åˆï¼Œ0.7-1.2 æ˜¯æ­£å¸¸èŒƒå›´
- é«˜äºŽ 1.5 åˆ™ä¸ºä¼˜ç§€

### Q: ä¸ºä»€ä¹ˆå›žæµ‹ç»“æžœä¸Žå®žé™…ä¸ç¬¦ï¼Ÿ
A: å›žæµ‹çš„å‡è®¾æ¡ä»¶ï¼š
- ä¸è€ƒè™‘äº¤æ˜“æˆæœ¬å’Œç¨Žè´¹
- ä¸è€ƒè™‘è‚¡æƒåˆ†é…å’ŒåŸºé‡‘åˆ†çº¢
- ä½¿ç”¨åŽ†å²æ”¶ç›˜ä»·ï¼ˆæ— æ»‘ç‚¹æ¨¡æ‹Ÿï¼‰

### Q: å¯ä»¥å›žæµ‹å¤šä¹…çš„æ•°æ®ï¼Ÿ
A: ç†è®ºä¸Šæ— é™åˆ¶ï¼Œä½†ï¼š
- æ•°æ®è¶Šå¤šï¼ŒåŠ è½½è¶Šæ…¢ï¼ˆ5-10 ç§’ï¼‰
- å»ºè®®é€‰æ‹© 3-10 å¹´çš„æ—¶é—´èŒƒå›´

### Q: æœˆæŠ• 10,000 å…ƒ vs 20,000 å…ƒç»“æžœä¼šå·®å¾ˆå¤šå—ï¼Ÿ
A: ä¸ä¼šã€‚æŠ•èµ„é‡‘é¢åªæ˜¯ç¼©æ”¾å› å­ï¼š
- 10,000 å…ƒæŠ•èµ„ä¼šå¾—åˆ°å¯¹åº”çš„æ”¶ç›Š
- 20,000 å…ƒæŠ•èµ„æ”¶ç›Šç¿»å€
- **CAGRã€Sharpe ç­‰ç›¸å¯¹æŒ‡æ ‡ä¸å˜**

## æ•…éšœæŽ’æŸ¥

### é—®é¢˜: åº”ç”¨å¯åŠ¨å¤±è´¥

```
ModuleNotFoundError: No module named 'streamlit'
```

**è§£å†³æ–¹æ¡ˆ:**
```bash
pip install streamlit tushare pandas plotly
```

### é—®é¢˜: Tushare è¿žæŽ¥è¶…æ—¶

```
Connection timeout when fetching data
```

**è§£å†³æ–¹æ¡ˆ:**
- æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
- ç¡®ä¿ Token æœ‰æ•ˆ
- å‡å°‘ ETF ä¸ªæ•°ï¼Œç¼©çŸ­æ—¶é—´èŒƒå›´
- å°è¯•é‡æ–°è¿è¡Œ

### é—®é¢˜: æŸä¸ª ETF æ— æ•°æ®

```
Failed to fetch data for code: XXXXX
```

**è§£å†³æ–¹æ¡ˆ:**
- éªŒè¯ ETF ä»£ç æ˜¯å¦æ­£ç¡®ï¼ˆåº”ä¸º 6 ä½æ•°å­—ï¼‰
- ç¡®è®¤æ—¶é—´èŒƒå›´å†… ETF å·²æˆç«‹
- åœ¨ Tushare å®˜ç½‘æŸ¥è¯¢è¯¥ ETF æ˜¯å¦æœ‰æ•°æ®

## ä¸‹ä¸€æ­¥

æŽŒæ¡äº†åŸºç¡€ä½¿ç”¨åŽï¼Œå¯ä»¥å°è¯•ï¼š

1. **å¯¹æ¯”å¤šä¸ªç»„åˆ** - è®¾è®¡ä¸åŒçš„æƒé‡ï¼Œæ‰¾åˆ°æœ€ä¼˜é…ç½®
2. **åˆ†æžå¸‚åœºå‘¨æœŸ** - ç”¨ä¸åŒçš„æ—¶é—´èŒƒå›´å›žæµ‹ï¼Œç†è§£å¸‚åœºè§„å¾‹
3. **è‡ªå®šä¹‰æŒ‡æ ‡** - åœ¨ Python ä¸­è¿›è¡Œæ›´æ·±åº¦çš„åˆ†æž
4. **ç”ŸæˆæŠ¥å‘Š** - å°†ç»“æžœå¯¼å‡ºï¼Œåˆ¶ä½œæŠ•èµ„æ€»ç»“

## èŽ·å–å¸®åŠ©

- ðŸ“– å®Œæ•´æ–‡æ¡£: æŸ¥çœ‹ `README_DCA.md`
- ðŸ’¬ æŠ¥å‘Šé—®é¢˜: æä¾›é”™è¯¯æ—¥å¿—å’Œå›žæµ‹å‚æ•°
- ðŸ”— Tushare æ–‡æ¡£: https://www.tushare.pro/

---

**ç¥æ‚¨å®šæŠ•æ„‰å¿«ï¼** ðŸ“ˆ

*æœ€åŽæ›´æ–°: 2025-12-09*
